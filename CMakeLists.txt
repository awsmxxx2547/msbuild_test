cmake_minimum_required(VERSION 3.16)
project(MyApp)

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ª–∏–Ω–∫–æ–≤–∫–∏ ---
set(BUILD_SHARED_LIBS OFF) 
set(VCPKG_TARGET_TRIPLET "x64-windows-static" CACHE STRING "vcpkg triplet for static linking")

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Find xlsxio package
find_package(xlsxio CONFIG REQUIRED)

add_executable(MyApp src/main.cpp)

# üîë –ö–õ–Æ–ß–ï–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: 
# –Ø–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∏—è (include directories) –∏–∑ —Ü–µ–ª–µ–π vcpkg –∫ –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.
# –ò—Å–ø–æ–ª—å–∑—É–µ–º PRIVATE, —á—Ç–æ–±—ã –ø—É—Ç–∏ –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ MyApp.
target_include_directories(MyApp PRIVATE 
    $<TARGET_PROPERTY:xlsxio::xlsxio_write,INTERFACE_INCLUDE_DIRECTORIES>
    $<TARGET_PROPERTY:xlsxio::xlsxio_read,INTERFACE_INCLUDE_DIRECTORIES>
)

# –õ–∏–Ω–∫—É–µ–º —Å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ü–µ–ª—è–º–∏
target_link_libraries(MyApp PRIVATE xlsxio::xlsxio_write xlsxio::xlsxio_read)
